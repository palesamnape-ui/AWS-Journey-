# MySQL Database Operations Lab

A comprehensive hands-on lab for learning essential MySQL database operations on AWS EC2. This repository contains step-by-step instructions for connecting to databases, manipulating data, and performing bulk imports.

![MySQL Lab Banner](images/mysql-lab-banner.png)


## ðŸ“‹ Overview

This lab walks through fundamental database operations including:
- Establishing connections to MySQL databases via AWS Session Manager
- Inserting data into tables
- Updating existing records
- Deleting data with proper safeguards
- Importing bulk data from SQL files

## ðŸŽ¯ Prerequisites

Before beginning this lab, ensure you have:
- Access to AWS Management Console
- Basic command-line knowledge
- An active AWS EC2 Command Host instance

---

## Task 1: Connect to a Database

Connect to the Command Host instance containing the MySQL database client.

![EC2 Console Navigation](images/ec2-console-screenshot.png)

### Instructions

1. In the **AWS Management Console**, select the **Services** menu
2. Under **Compute**, choose **EC2**
3. In the left navigation pane, select **Instances**
4. Locate the instance labeled **Command Host**, select its checkbox, then click **Connect**

> **Note:** If Command Host is not visible, the lab may still be provisioning or you may be in the wrong Region.

![Session Manager Connection](images/session-manager-connect.png)

5. On the **Connect to instance** screen, choose the **Session Manager** tab
6. Click **Connect** to open a terminal window

> **Note:** If the Connect button is unavailable, wait a few minutes and retry.

### Configure Your Environment

Run the following commands to access required tools:

```bash
sudo su
cd /home/ec2-user/
```

> **Tip for Windows Users:** Press `Shift+Ctrl+V` to paste commands into Session Manager.

### Establish Database Connection

Connect to the MySQL database using the pre-configured credentials:

```bash
mysql -u root --password='re:St@rt!9'
```

**Command Parameters:**

| Switch | Description |
|--------|-------------|
| `-u` or `--user` | MySQL username for database connection |
| `-p` or `--password` | MySQL password for database connection |

### Verify Connection

Display all available databases:

```sql
SHOW DATABASES;
```

Note the existing databases for reference throughout the lab.

> **Reconnection Steps:** If Session Manager becomes unresponsive at any point:
> 1. Close the Session Manager window
> 2. Reconnect using the steps above
> 3. Run: `sudo su`, `cd /home/ec2-user/`, `mysql -u root --password='re:St@rt!9'`

---

## Task 2: Insert Data into a Table

Insert sample country data into the world database.

![Data Insert Operation](images/data-insert-operation.png)

### Verify Table Exists

Check the current state of the country table:

```sql
SELECT * FROM world.country;
```

The `SELECT` statement identifies which columns to include in the result set. The `*` denotes all columns, while the `FROM` clause specifies the database and table.

### Insert Sample Records

Add two country records to the table:

```sql
INSERT INTO world.country VALUES ('IRL','Ireland','Europe','British Islands',70273.00,1921,3775100,76.8,75921.00,73132.00,'Ireland/Ã‰ire','Republic',1447,'IE');

INSERT INTO world.country VALUES ('AUS','Australia','Oceania','Australia and New Zealand',7741220.00,1901,18886000,79.8,351182.00,392911.00,'Australia','Constitutional Monarchy, Federation',135,'AU');
```

> **Important:** Values in the `VALUES` clause must match the order defined by the table schema.

### Verify Insertion

Confirm both rows were successfully inserted:

```sql
SELECT * FROM world.country WHERE Code IN ('IRL', 'AUS');
```

**Expected Result:**

| Code | Name | Continent | Region | SurfaceArea | IndepYear | Population | LifeExpectancy | GNP | GNPOld | LocalName | GovernmentForm | Capital | Code2 |
|------|------|-----------|--------|-------------|-----------|------------|----------------|-----|--------|-----------|----------------|---------|-------|
| AUS | Australia | Oceania | Australia and New Zealand | 7741220 | 1901 | 18886000 | 79.8 | 351182 | 392911 | Australia | Constitutional Monarchy, Federation | 135 | AU |
| IRL | Ireland | Europe | British Islands | 70273 | 1921 | 3775100 | 76.8 | 75921 | 73132 | Ireland/Ã‰ire | Republic | 1447 | IE |

---

## Task 3: Update Rows in a Table

Modify existing records using UPDATE statements.

![Update Records](images/update-records.png)

### Update Single Column

Set the Population column to 0 for all rows:

```sql
UPDATE world.country SET Population = 0;
```

> **Note:** All rows are updated because no `WHERE` condition is specified. The `WHERE` clause filters rows based on conditions and will be covered in subsequent labs.

Verify the update:

```sql
SELECT * FROM world.country;
```

### Update Multiple Columns

Modify both Population and SurfaceArea columns:

```sql
UPDATE world.country SET Population = 100, SurfaceArea = 100;
```

Confirm the changes:

```sql
SELECT * FROM world.country;
```

---

## Task 4: Delete Rows from a Table

Remove data from tables using DELETE statements.

![Delete Operation Warning](images/delete-operation-warning.png)

> âš ï¸ **Caution:** Exercise extreme care with UPDATE and DELETE statements as these changes may be irreversible.

### Delete All Rows

Remove all records from the country table:

```sql
SET FOREIGN_KEY_CHECKS = 0;
DELETE FROM world.country;
```

> **Note:** All rows are deleted because the DELETE statement does not include a `WHERE` condition.

### Verify Deletion

Confirm the table is empty:

```sql
SELECT * FROM world.country;
```

The query should return no rows.

---

## Task 5: Import Data Using an SQL File

Load bulk data efficiently using SQL script files.

![SQL File Import](images/sql-file-import.png)

### Exit MySQL Terminal

```sql
QUIT;
```

### Verify SQL File Presence

Confirm the world.sql file exists:

```bash
ls /home/ec2-user/world.sql
```

### Execute Bulk Import

Manually inserting rows is time-consuming. SQL script files contain groups of SQL statements for quick data loading.

Import the data:

```bash
mysql -u root --password='re:St@rt!9' < /home/ec2-user/world.sql
```

This file creates two additional tables and populates all three tables with data.

### Reconnect to Database

```bash
mysql -u root --password='re:St@rt!9'
```

### Verify Import Success

Check the imported tables:

```sql
USE world;
SHOW TABLES;
```

You should observe three tables: `city`, `country`, and `countrylanguage`.

### Examine Imported Data

Verify data was loaded into the country table:

```sql
SELECT * FROM country;
```

Notice the increased number of entries.

Query the additional tables:

```sql
SELECT * FROM city;
SELECT * FROM countrylanguage;
```

---

## ðŸ”‘ Key SQL Operations Summary

| Operation | Purpose | Syntax Pattern |
|-----------|---------|----------------|
| **SELECT** | Retrieve data from tables | `SELECT * FROM table;` |
| **INSERT** | Add new rows | `INSERT INTO table VALUES (...);` |
| **UPDATE** | Modify existing data | `UPDATE table SET column = value;` |
| **DELETE** | Remove rows | `DELETE FROM table;` |
| **SQL Import** | Bulk data loading | `mysql < file.sql` |

## ðŸ› ï¸ Troubleshooting

**Session Manager Issues:**
- Close and reconnect using Task 1 steps
- Re-run environment setup commands

**Command Host Not Visible:**
- Verify correct AWS Region
- Allow time for lab provisioning

**Commands Not Executing:**
- Confirm `sudo su` was executed
- Verify working directory is `/home/ec2-user/`

## ðŸ“š Further Learning

After completing this lab, explore:
- WHERE clause filtering techniques
- JOIN operations for multi-table queries
- Database indexing and performance optimization
- Backup and disaster recovery strategies
- Transaction management and ACID properties

---

## ðŸ“„ License

Educational resource provided for database learning purposes.

## ðŸ¤ Contributions

Feedback, corrections, and improvements are welcome via issues or pull requests.

---

![Lab Complete](images/lab-complete.png)

**Repository maintained for educational database training**
